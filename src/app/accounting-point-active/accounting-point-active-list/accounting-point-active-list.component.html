<div fxLayout="row wrap">
    <div fxFlex="50%" *ngFor="let item of items">
        <mat-card class="example-card">
            <mat-card-content>
                <table>
                    <tr>
                        <td>Наименование</td>
                        <td>{{presentAccountingPoint(item.accountingPointId)}}</td>
                    </tr>
                    <tr>
                        <td>Услуга</td>
                        <td>{{presentService(item.serviceId)}}</td>
                    </tr>
                    <tr>
                        <td>Поставщик</td>
                        <td>
                            <span>{{presentProvider(item.providerId)}}</span>
                            <button mat-icon-button [matMenuTriggerFor]="menuProvder"
                                aria-label="Example icon-button with a menu">
                                <mat-icon>more_vert</mat-icon>
                            </button>
                            <mat-menu #menuProvder="matMenu">
                                <button mat-menu-item>
                                    <mat-icon>edit</mat-icon>
                                    <span>Изменить</span>
                                </button>
                                <button mat-menu-item [routerLink]="['/provider-history', item.accountingPointId]">
                                    <mat-icon>history</mat-icon>
                                    <span>История</span>
                                </button>
                            </mat-menu>
                        </td>
                    </tr>
                    <tr>
                        <td>Прибор учета</td>
                        <td>
                            <span>{{presentMeter(item.meterId)}}/СГВ-15</span>
                            <button mat-icon-button [matMenuTriggerFor]="menuMeter"  [routerLink]="['/meter-history', item.accountingPointId]" 
                                aria-label="Example icon-button with a menu">
                                <mat-icon>more_vert</mat-icon>
                            </button>
                            <mat-menu #menuMeter="matMenu">
                                <button mat-menu-item>
                                    <mat-icon>edit</mat-icon>
                                    <span>Изменить</span>
                                </button>
                                <button mat-menu-item>
                                    <mat-icon>history</mat-icon>
                                    <span>История</span>
                                </button>
                            </mat-menu>
                        </td>
                    </tr>
                    <tr>
                        <td>Состояние прибора</td>
                        <td>Установлен / {{item.meterStateChangeAt| date:'shortDate'}}</td>
                    </tr>                   
                    <tr>
                        <td>Вид дифференцированности</td>
                        <td>
                            <span>{{presentDifferentiationType(item.differentiationTypeId)}}</span>
                            <button mat-icon-button [matMenuTriggerFor]="menuDifferentiationType"
                                aria-label="Example icon-button with a menu">
                                <mat-icon>more_vert</mat-icon>
                            </button>
                            <mat-menu #menuDifferentiationType="matMenu">
                                <button mat-menu-item>
                                    <mat-icon>edit</mat-icon>
                                    <span>Изменить</span>
                                </button>
                                <button mat-menu-item>
                                    <mat-icon>history</mat-icon>
                                    <span>История</span>
                                </button>
                            </mat-menu>
                        </td>
                    </tr>
                    <tr>
                        <td>Последние показания</td>
                        <td>
                            <span>{{item.lastMeterValue}}</span>
                            <button mat-icon-button [matMenuTriggerFor]="menuMeterValue"
                                aria-label="Example icon-button with a menu">
                                <mat-icon>more_vert</mat-icon>
                            </button>
                            <mat-menu #menuMeterValue="matMenu">
                                <button mat-menu-item>
                                    <mat-icon>edit</mat-icon>
                                    <span>Изменить</span>
                                </button>
                                <button mat-menu-item>
                                    <mat-icon>history</mat-icon>
                                    <span>История</span>
                                </button>
                            </mat-menu>
                        </td>
                    </tr>
                </table>
            </mat-card-content>
            <mat-card-actions>
                <button mat-button color="primary">Отключить</button>
                <button mat-button color="primary">Вывести прибор</button>
            </mat-card-actions>
        </mat-card>
    </div>
</div>